"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[202],{9202:function(n,e,r){r.r(e),r.d(e,{default:function(){return Bn}});var t,o,i,a,s,c,d,l,u=r(885),p=r(2791),f=r(3309),h=r(9298),m=r(5985),v=function(n,e,r,t){switch(t){case"successOnly":return m.Am.success(r.onSuccess);case"errorOnly":return m.Am.error(r.onError);default:return n?m.Am.success(r.onSuccess):e?m.Am.error(r.onError):void 0}},g=function(n,e){try{var r=JSON.stringify(e);localStorage.setItem(n,r)}catch(t){console.error("Set state error: ",t.message)}},x=function(n){try{var e=localStorage.getItem(n);return null===e?void 0:JSON.parse(e)}catch(r){console.error("Get state error: ",r.message)}},Z=r(5048),b=r(1129),w=r(4684),k=r(8384),y=r(184),j="contact-name",E="contact-number",C=function(){var n;return null!==(n=x(j))&&void 0!==n?n:""},S=function(){var n;return null!==(n=x(E))&&void 0!==n?n:""},P=function(n){var e=n.formTitle,r=(0,p.useState)(C),t=(0,u.Z)(r,2),o=t[0],i=t[1],a=(0,p.useState)(S),s=(0,u.Z)(a,2),c=s[0],d=s[1],l=(0,p.useState)(!1),m=(0,u.Z)(l,2),x=m[0],P=m[1],D=(0,p.useState)(!1),A=(0,u.Z)(D,2),M=A[0],I=A[1],R=(0,w.O9)(),z=R.isEditMode,L=R.toEdit,T=(0,p.useRef)(!0),B=(0,h.Lr)(),O=(0,u.Z)(B,2),N=O[0],_=O[1],F=(0,h.wv)(),$=(0,u.Z)(F,2),H=$[0],V=$[1],Y=(0,Z.v9)(b.l.getHasContact(o,{skip:z})),q={name:function(n){return i(n)},number:function(n){return d(n)}},J=M?"Saved":"Save",U=M?(0,y.jsx)(k.Z,{}):null,W=_.isSuccess&&!_.isUninitialized||V.isSuccess&&!V.isUninitialized,X=_.isError||V.isError;(0,p.useEffect)((function(){z&&T.current&&(i(null===L||void 0===L?void 0:L.name),d(null===L||void 0===L?void 0:L.number),T.current=!1),g(j,o),g(E,c)}),[o,c,z,null===L||void 0===L?void 0:L.name,null===L||void 0===L?void 0:L.number]),(0,p.useEffect)((function(){return W&&(I(!0),P(!0)),function(){(W||z)&&(window.localStorage.removeItem(j),window.localStorage.removeItem(E))}}),[W,z]);var G=function(n){var e=n.target,r=e.name,t=e.value;q[r](t)};return(0,y.jsxs)(y.Fragment,{children:[e?(0,y.jsx)(f.vw,{children:e}):null,(0,y.jsx)(f.l0,{onSubmit:function(n){n.preventDefault(),z||!Y?function(){var n={name:o,number:c};z?H({id:L.id,contact:n}):N(n),v(W,X,{onSuccess:"Contact ".concat(o," was added to the phonebook"),onError:"Something went wrong! Please, try again"})}():v(null,null,{onError:"".concat(o," has been already added")},"errorOnly")},children:(0,y.jsxs)(f.im,{children:[(0,y.jsx)(f.II,{id:"name",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:o,onChange:G,variant:"outlined",label:"Name",disabled:x}),(0,y.jsx)(f.II,{id:"number",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:c,onChange:G,variant:"outlined",label:"Number",disabled:x}),(0,y.jsxs)(f.R$,{type:"submit",disabled:M||x,children:[U,J]}),(0,y.jsx)(f.Cd,{type:"button",variant:"outlined",onClick:function(){i(""),d(""),I(!1)},children:"Clear"})]})})]})},D=function(n){return n.filter.value},A=r(6390),M=function(){var n=(0,Z.I0)(),e=(0,Z.v9)(D);return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(f.II,{id:"filter",type:"text",name:"filter",onChange:function(e){return n(A.w.setFilter(e.target.value))},value:e,label:"Search contacts by name"})})},I=r(168),R=r(7691),z=R.ZP.ul(t||(t=(0,I.Z)(["\n    width: 300px;\n    margin-top: ",";\n    border-radius: 10px;\n    background-color: #4682b4;\n    color: #ffffff;\n"])),(function(n){return n.theme.spacing(3)})),L=R.ZP.li(o||(o=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: ",";\n\n    &:not(:last-child) {\n        border-bottom: 1px solid #ffffff;\n    }\n"])),(function(n){return n.theme.spacing(3,2)})),T=r(1413),B=r(5987),O=R.ZP.button(i||(i=(0,I.Z)(["\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    width: 20px;\n    height: 20px;\n    font: inherit;\n    font-size: 8px;\n    border: none;\n    border-radius: 10px;\n    background-color: #ff0000;\n    color: #ffffff;\n\n    cursor: pointer;\n\n    &:active {\n        box-shadow: inset 0px 0px 4px 0px #fafafa;\n    }\n    &:hover {\n            background-color: rgba(0, 0, 0, 0.34);\n    }\n"]))),N=["children","onClick"],_=function(n){var e=n.children,r=n.onClick,t=(0,B.Z)(n,N);return(0,y.jsx)(O,(0,T.Z)((0,T.Z)({onClick:r},t),{},{children:e}))},F=r(9e3),$=r(3400),H=R.ZP.article(a||(a=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n"]))),V=R.ZP.p(s||(s=(0,I.Z)([""]))),Y=R.ZP.p(c||(c=(0,I.Z)([""]))),q=(0,R.ZP)($.Z)(d||(d=(0,I.Z)(["\n    && {\n        width: 20px;\n        height: 20px;\n        margin-left: auto;\n        margin-right: 4px;\n        background-color: #ff0000;\n        color: #ffffff;\n\n        &:hover {\n            background-color: rgba(0, 0, 0, 0.34);\n        }\n\n        & svg {\n            width: 14px;\n            height: 14px;\n        }\n    }\n"]))),J={onSuccess:"Contact was successfuly removed",onError:"Ups... looks like an erorr. Please, try again"},U=function(n){var e=n.id,r=n.name,t=n.number,o=(0,h.Nt)(),i=(0,u.Z)(o,4),a=i[0],s=i[1],c=i[2],d=i[3],l=(0,w.O9)().setIsEditMode,p=(0,w.M$)().setOpenDrawer;return(0,y.jsxs)(H,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(V,{children:r}),(0,y.jsx)(Y,{children:t})]}),(0,y.jsx)(q,{onClick:function(){return l({id:e,name:r,number:t}),void p(!0)},children:(0,y.jsx)(F.Z,{})}),(0,y.jsx)(_,{onClick:function(){return a(e),void v(s,c,J)},disabled:d,children:"\u2573"})]})},W=R.ZP.p(l||(l=(0,I.Z)(["\n    margin-top: ",";\n    padding: ",";\n    font-weight: 700;\n"])),(function(n){return n.theme.spacing(3)}),(function(n){return n.theme.spacing(5,0)})),X=function(n){var e=n.message;return(0,y.jsx)(W,{children:e})},G=r(7162),K=function(){var n=(0,h.bC)(),e=n.data,r=n.error,t=n.isLoading,o=(0,Z.v9)(D),i=(null===e||void 0===e?void 0:e.length)&&!r,a=!i&&!t,s=i?e.filter((function(n){return n.name.toLowerCase().includes(o.toLowerCase())})):[],c=s.length?s:e;return(0,y.jsxs)(y.Fragment,{children:[t&&(0,y.jsx)(G.Z,{type:"dual-rings"}),i?(0,y.jsx)(z,{children:c.map((function(n){var e=n.id,r=n.name,t=n.number;return(0,y.jsx)(L,{children:(0,y.jsx)(U,{id:e,name:r,number:t})},e)}))}):null,a?(0,y.jsx)(X,{message:"Your phonebook is empty..."}):null]})},Q=r(3366),nn=r(7462),en=r(8182),rn=r(4419),tn=r(3971),on=r(6752),an=r(3199),sn=r(2071),cn=r(3967),dn=r(4999),ln=r(7602),un=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function pn(n,e,r){var t,o=function(n,e,r){var t,o=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),a=(0,ln.Z)(e);if(e.fakeTransform)t=e.fakeTransform;else{var s=a.getComputedStyle(e);t=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}var c=0,d=0;if(t&&"none"!==t&&"string"===typeof t){var l=t.split("(")[1].split(")")[0].split(",");c=parseInt(l[4],10),d=parseInt(l[5],10)}return"left"===n?"translateX(".concat(i?i.right+c-o.left:a.innerWidth+c-o.left,"px)"):"right"===n?"translateX(-".concat(i?o.right-i.left-c:o.left+o.width-c,"px)"):"up"===n?"translateY(".concat(i?i.bottom+d-o.top:a.innerHeight+d-o.top,"px)"):"translateY(-".concat(i?o.top-i.top+o.height-d:o.top+o.height-d,"px)")}(n,e,"function"===typeof(t=r)?t():t);o&&(e.style.webkitTransform=o,e.style.transform=o)}var fn=p.forwardRef((function(n,e){var r=(0,cn.Z)(),t={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},i=n.addEndListener,a=n.appear,s=void 0===a||a,c=n.children,d=n.container,l=n.direction,u=void 0===l?"down":l,f=n.easing,h=void 0===f?t:f,m=n.in,v=n.onEnter,g=n.onEntered,x=n.onEntering,Z=n.onExit,b=n.onExited,w=n.onExiting,k=n.style,j=n.timeout,E=void 0===j?o:j,C=n.TransitionComponent,S=void 0===C?on.ZP:C,P=(0,Q.Z)(n,un),D=p.useRef(null),A=(0,sn.Z)(c.ref,D),M=(0,sn.Z)(A,e),I=function(n){return function(e){n&&(void 0===e?n(D.current):n(D.current,e))}},R=I((function(n,e){pn(u,n,d),(0,dn.n)(n),v&&v(n,e)})),z=I((function(n,e){var t=(0,dn.C)({timeout:E,style:k,easing:h},{mode:"enter"});n.style.webkitTransition=r.transitions.create("-webkit-transform",(0,nn.Z)({},t)),n.style.transition=r.transitions.create("transform",(0,nn.Z)({},t)),n.style.webkitTransform="none",n.style.transform="none",x&&x(n,e)})),L=I(g),T=I(w),B=I((function(n){var e=(0,dn.C)({timeout:E,style:k,easing:h},{mode:"exit"});n.style.webkitTransition=r.transitions.create("-webkit-transform",e),n.style.transition=r.transitions.create("transform",e),pn(u,n,d),Z&&Z(n)})),O=I((function(n){n.style.webkitTransition="",n.style.transition="",b&&b(n)})),N=p.useCallback((function(){D.current&&pn(u,D.current,d)}),[u,d]);return p.useEffect((function(){if(!m&&"down"!==u&&"right"!==u){var n=(0,an.Z)((function(){D.current&&pn(u,D.current,d)})),e=(0,ln.Z)(D.current);return e.addEventListener("resize",n),function(){n.clear(),e.removeEventListener("resize",n)}}}),[u,m,d]),p.useEffect((function(){m||N()}),[m,N]),(0,y.jsx)(S,(0,nn.Z)({nodeRef:D,onEnter:R,onEntered:L,onEntering:z,onExit:B,onExited:O,onExiting:T,addEndListener:function(n){i&&i(D.current,n)},appear:s,in:m,timeout:E},P,{children:function(n,e){return p.cloneElement(c,(0,nn.Z)({ref:M,style:(0,nn.Z)({visibility:"exited"!==n||m?void 0:"hidden"},k,c.props.style)},e))}}))})),hn=r(703),mn=r(4036),vn=r(1046),gn=r(7630),xn=r(1217);function Zn(n){return(0,xn.Z)("MuiDrawer",n)}(0,r(5878).Z)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var bn=["BackdropProps"],wn=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],kn=function(n,e){var r=n.ownerState;return[e.root,("permanent"===r.variant||"persistent"===r.variant)&&e.docked,e.modal]},yn=(0,gn.ZP)(tn.Z,{name:"MuiDrawer",slot:"Root",overridesResolver:kn})((function(n){var e=n.theme;return{zIndex:(e.vars||e).zIndex.drawer}})),jn=(0,gn.ZP)("div",{shouldForwardProp:gn.FO,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:kn})({flex:"0 0 auto"}),En=(0,gn.ZP)(hn.Z,{name:"MuiDrawer",slot:"Paper",overridesResolver:function(n,e){var r=n.ownerState;return[e.paper,e["paperAnchor".concat((0,mn.Z)(r.anchor))],"temporary"!==r.variant&&e["paperAnchorDocked".concat((0,mn.Z)(r.anchor))]]}})((function(n){var e=n.theme,r=n.ownerState;return(0,nn.Z)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===r.anchor&&{left:0},"top"===r.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===r.anchor&&{right:0},"bottom"===r.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===r.anchor&&"temporary"!==r.variant&&{borderRight:"1px solid ".concat((e.vars||e).palette.divider)},"top"===r.anchor&&"temporary"!==r.variant&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider)},"right"===r.anchor&&"temporary"!==r.variant&&{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},"bottom"===r.anchor&&"temporary"!==r.variant&&{borderTop:"1px solid ".concat((e.vars||e).palette.divider)})})),Cn={left:"right",right:"left",top:"down",bottom:"up"};var Sn,Pn,Dn,An=p.forwardRef((function(n,e){var r=(0,vn.Z)({props:n,name:"MuiDrawer"}),t=(0,cn.Z)(),o={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},i=r.anchor,a=void 0===i?"left":i,s=r.BackdropProps,c=r.children,d=r.className,l=r.elevation,u=void 0===l?16:l,f=r.hideBackdrop,h=void 0!==f&&f,m=r.ModalProps,v=(m=void 0===m?{}:m).BackdropProps,g=r.onClose,x=r.open,Z=void 0!==x&&x,b=r.PaperProps,w=void 0===b?{}:b,k=r.SlideProps,j=r.TransitionComponent,E=void 0===j?fn:j,C=r.transitionDuration,S=void 0===C?o:C,P=r.variant,D=void 0===P?"temporary":P,A=(0,Q.Z)(r.ModalProps,bn),M=(0,Q.Z)(r,wn),I=p.useRef(!1);p.useEffect((function(){I.current=!0}),[]);var R=function(n,e){return"rtl"===n.direction&&function(n){return-1!==["left","right"].indexOf(n)}(e)?Cn[e]:e}(t,a),z=a,L=(0,nn.Z)({},r,{anchor:z,elevation:u,open:Z,variant:D},M),T=function(n){var e=n.classes,r=n.anchor,t=n.variant,o={root:["root"],docked:[("permanent"===t||"persistent"===t)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,mn.Z)(r)),"temporary"!==t&&"paperAnchorDocked".concat((0,mn.Z)(r))]};return(0,rn.Z)(o,Zn,e)}(L),B=(0,y.jsx)(En,(0,nn.Z)({elevation:"temporary"===D?u:0,square:!0},w,{className:(0,en.Z)(T.paper,w.className),ownerState:L,children:c}));if("permanent"===D)return(0,y.jsx)(jn,(0,nn.Z)({className:(0,en.Z)(T.root,T.docked,d),ownerState:L,ref:e},M,{children:B}));var O=(0,y.jsx)(E,(0,nn.Z)({in:Z,direction:Cn[R],timeout:S,appear:I.current},k,{children:B}));return"persistent"===D?(0,y.jsx)(jn,(0,nn.Z)({className:(0,en.Z)(T.root,T.docked,d),ownerState:L,ref:e},M,{children:O})):(0,y.jsx)(yn,(0,nn.Z)({BackdropProps:(0,nn.Z)({},s,v,{transitionDuration:S}),className:(0,en.Z)(T.root,T.modal,d),open:Z,ownerState:L,onClose:g,hideBackdrop:h,ref:e},M,A,{children:O}))})),Mn=["anchor","children"],In=function(n){var e=n.anchor,r=n.children,t=(0,B.Z)(n,Mn),o=(0,w.M$)(),i=o.openDrawer,a=o.setOpenDrawer,s=(0,p.useRef)(null);return(0,y.jsx)(An,(0,T.Z)((0,T.Z)({ref:s,anchor:e,open:i,hideBackdrop:!0,onClose:function(n){"Escape"===n.code&&a(!1)},onClick:function(n){n.target===s.current&&a(!1)}},t),{},{children:r}))},Rn=r(6151),zn=R.ZP.div(Sn||(Sn=(0,I.Z)(["\n    display: flex;\n    align-items: flex-start;\n    max-width: 600px;\n    margin: 0 auto;\n    padding: 20px 0 0 0;\n"]))),Ln=R.ZP.div(Pn||(Pn=(0,I.Z)(["\n    flex-grow: 80;\n"]))),Tn=(0,R.ZP)(Rn.Z)(Dn||(Dn=(0,I.Z)(["\n    && {\n        background-color: limegreen;\n        margin-left: 4px;\n\n        &:hover {\n            background-color: green;\n        }\n    }\n"]))),Bn=function(){var n=(0,w.M$)(),e=n.openDrawer,r=n.setOpenDrawer,t=(0,w.O9)(),o=t.isEditMode,i=t.setIsEditMode,a=o?"Edit contact":"Create new contact";return(0,y.jsxs)(zn,{children:[(0,y.jsxs)(Ln,{children:[(0,y.jsx)(M,{}),(0,y.jsx)(K,{})]}),(0,y.jsx)(Tn,{onClick:function(){i(null),r(!e)},variant:"contained",children:"Add contact"}),(0,y.jsx)(In,{anchor:"right",children:(0,y.jsx)(P,{formTitle:a})})]})}},8384:function(n,e,r){var t=r(4836);e.Z=void 0;var o=t(r(5649)),i=r(184),a=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");e.Z=a},9e3:function(n,e,r){var t=r(4836);e.Z=void 0;var o=t(r(5649)),i=r(184),a=(0,o.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");e.Z=a}}]);
//# sourceMappingURL=202.cd8fab58.chunk.js.map